%YAML 1.1
---
version_file: /version

log:
    path: /var/log/psm
    size: 1048576

# Worker (spectrum scanner)
worker:
    config_file: /var/lib/psm/worker-config_id
    run_path: /var/run/psm-worker

# Monkey (RDS decoder)
monkey:
    config_file: /var/lib/psm/monkey-config_id
    run_path: /var/run/psm-monkey
    poll: 1.0

elasticsearch: http://localhost:9200/
export_directory: /tmp

users_file: /var/lib/psm/users.passwords
rounds: 100000

# user session inactivity timeout
user_timeout_secs: 60

# location of the SSMTP configuration file (fixed by ssmtp package)
ssmtp_conf: /etc/ssmtp/ssmtp.conf

# GPIO radio 'on' script settings
radio_on:
    switch: 21 # BCM numbering
    sleep_secs: 1.0

# data directory (FsDataStore)
data_path: /var/lib/psm

# location of the pi_control binary
pi_control_path: /usr/bin/pi_control

# location of the pid_kill binary
pid_kill_path: /usr/bin/pid_kill

# location of the pico_status script
pico_path: /usr/local/bin/pico_status.py

# how often (in s) the wav2mp3 converter should run
convert_period: 300

# event manager settings
event:
    path: /var/lib/psm/events
    poll_secs: 10
    overseer_url: 
    overseer_key: 

# default settings - if left empty, rig model is set later using Hamlib
default:
    rig_settings:
        model:
        data_bits: 8
        rate: 9600
        stop_bits: 1
        parity: 0
        attenuation: False
        radio_on: '*'
        set_check: 2
        retries: 2
        interval: 1000
        write_delay: 50
        rig_device: ttyUSB0
        audio_device: dsp1
        rds_device: ttyACM0

    audio_settings:
        rate: 44100
        period: 600
        duration: 10
        threshold: -20

    rds_settings:
        strength_threshold: 60
        strength_timeout: 4
        name_timeout: 10
        text_timeout: 300

    scan_settings:
        freqs: {range: [87.5, 108.0, 0.1], exp: 6, freqs: [{f: '', exp: 6}]}
        monitor: {radio_on: 1}
        scan: {mode: 64, rds: true, audio: false}

# UI configuration
ui_config:
    widgets: ['keysight']

    table_columns: ['antenna', 'attenuation', 'preamp', 'window']

    tick_interval: 1000
    hz_labels: {0: 'Hz', 3: 'kHz', 6: 'MHz', 9: 'GHz'}
    max_n: 10

    frequency_chart_options:
        y_axis: [-128, -32, 16]
        margin: { top: 25, left: 80, right: 80, bottom: 30 }
        width: 1200
        height: 400

    level_chart_options:
        y_axis: [-128, -32, 16]
        margin: { top: 30, left: 40, right: 200, bottom: 40 }
        width: 1200
        height: 400
        x_ticks: 7

    waterfall_chart_options:
        heat: [-127, -80, -32]
        margin: { top: 25, left: 80, right: 80, bottom: 30 }
        width: 1200
        height: 400
        y_ticks: 7

    audio_chart_options:
        margin: { top: 20, left: 80, right: 80, bottom: 30 }
        width: 1200
        height: 400
        y_ticks: 10

    temperature_chart_options:
        y_axis: [0, 50, 25]
        margin: { top: 30, left: 40, right: 200, bottom: 40 }
        width: 1200
        height: 400
        x_ticks: 7

